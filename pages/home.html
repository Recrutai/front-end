<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recrutaí</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <link rel="stylesheet" href="../assets/css/home.css" />

  <!-- favicon -->
  <link rel="shortcut icon" href="../assets/img/favicon.png" type="image/x-icon" />

  <script type="module" src="../assets/js/ibge.js" defer></script>
  <script src="../assets/js/session.js" defer></script>
  <script type="module" src="../assets/js/vacancy.js"></script>

  <!-- lib de icones -->
  <script src="https://kit.fontawesome.com/4dd1a9f4a4.js" crossorigin="anonymous"></script>
</head>

<body id="main-content">
  <header>
    <img src="../assets/img/logo.png" width="100" />

    <form action="" method="post">
      <div>
        <a href="candidaturas.html" class="perfil-link">Minhas Candidaturas</a>
        <a href="perfil.html" class="perfil-link">Meu Perfil</a>
        <button class="logout" type="submit">Sair</button>
      </div>
    </form>
  </header>

  <main>
    <div class="intro">
      <div class="descIntro">
        <h3>Encontre vagas de estagio e pesquisa cientifica</h3>
        <p>Confira gratuitamente as oportunidades registradas no Recrutaí.</p>
        <div class="search-container">
          <form action="" id="search-form">
            <input type="text" name="search" id="search" />
            <button type="submit" class="search-button">
              <i class="fas fa-search"></i>
            </button>
          </form>
        </div>
      </div>
      <img src="../assets/img/search.png" width="500" />
    </div>

    <div class="showVacancy">
      <div class="headVacancy">
        <div class="category">
          <h5>Exibindo oportunidades para:</h5>
          <select id="opportunityType">
            <option value="ON_SITE">Presencial</option>
            <option value="REMOTE">Remoto</option>
            <option value="HYBRID">Hibrido</option>
          </select>
        </div>

        <button id="openModalBtn" class="btn">
          <i class="fas fa-plus"></i> Criar Vaga
        </button>
      </div>

      <div class="cards"></div>

      <div class="createVacancy">
        <div id="vacancyModal" class="modal">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Criar Vaga</h5>
              <span class="close">&times;</span>
            </div>
            <div id="div-erro">
              <div id="erro"></div>
            </div>
            <div class="modal-body">
              <form id="vacancyForm">
                <div class="form-group">
                  <label for="title">Título:</label>
                  <input type="text" id="title" name="title" maxlength="100" class="required" oninput="validTitulo()"/>
                  <span class="span-required">Tamanho Mín 5 | Máx 100</span>
                </div>
                <div class="form-group">
                  <label for="description">Descrição:</label>
                  <textarea id="description" name="description" maxlength="3850" class="required" oninput="validDescripton()"></textarea>
                  <span class="span-required">A descrição não pode ser vazia e nem maior que 3850 caracteres</span>
                </div>
                <div class="form-group">
                  <label for="institutionId">Empresa:</label>
                  <select id="institutionId" name="institutionId" class="required" oninput="validSelectCompany()">
                    <option value="" selected>-- Selecione --</option>
                  </select>
                  <span class="span-required">Escolha uma Empresa</span>
                </div>
                <div class="form-group">
                  <label for="employmentType">Tipo de Trabalho:</label>
                  <select id="employmentType" name="employmentType" class="required" oninput="validSelectEmployment()">
                    <option value="" selected>-- Selecione --</option>
                      <option value="CONTRACT">Contrato</option>
                      <option value="FREELANCE">Freelancer</option>
                      <option value="INTERNSHIP">Estágio</option>
                      <option value="FULL_TIME">Tempo Integral</option>
                      <option value="PART_TIME">Meio Período</option>
                      <option value="INDIRECT_CONTRACT">Temporário</option>
                  </select>
                  <span class="span-required">Escolha uma Opção</span>
                </div>
                <div class="form-group">
                  <label for="workModel">Modelo de Atuação:</label>
                  <select id="workModel" name="workModel"  class="required" oninput="validSelectWork()">
                    <option value="" selected>-- Selecione --</option>
                    <option value="ON_SITE">Presencial</option>
                    <option value="REMOTE">Remoto</option>
                    <option value="HYBRID">Hibrido</option>
                </select>
                <span class="span-required">Escolha uma Opção</span>
                </div>
                <div class="form-group">
                  <label for="state">Estado:</label>
                  <select id="states-Select" name="state" class="required" oninput="validState()">
                    <option value="" selected>-- Selecione --</option>
                  </select>
                  <span class="span-required">Escolha o estado</span>
                </div>
                <div class="form-group">
                  <label for="state">Cidade:</label>
                  <select id="cities-Select" name="state" class="required" oninput="validState()">
                    <option value="" selected>-- Selecione --</option>
                  </select>
                  <span class="span-required">Escolha a cidade</span>
                </div>
                <div class="form-group">
                  <label for="salary">Salário Médio:</label>
                  <input type="number" id="salary" name="salary" class="required" oninput="validSalary()"/>
                  <span class="salary-required">O salário deve ser maior que 0.</span>
                </div>
                <div class="form-group">
                  <label for="positions">Posições:</label>
                  <input type="number" id="positions" name="positions" class="required" oninput="validPositions()"/>
                  <span class="positions-required">O número de vagas deve ser maior que 0.</span>
                </div>
                <button type="submit" class="btn-createVacancy">
                  <h6>Criar Vaga</h6>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>© 2024 RECRUTAÍ. Todos os direitos reservados.</p>
  </footer>

  <!-- script pro modal de criar vagas -->
  <script>
    var modal = document.getElementById("vacancyModal");
    var btn = document.getElementById("openModalBtn");
    var span = document.getElementsByClassName("close")[0];

    btn.onclick = function () {
      modal.style.display = "block";
    };

    span.onclick = function () {
      modal.style.display = "none";
    };

    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    };
  </script>
  <script src="../assets/js/vacancyValidator.js" defer></script>
</body>

</html>